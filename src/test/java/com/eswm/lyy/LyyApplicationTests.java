package com.eswm.lyy;

import com.alibaba.druid.util.HttpClientUtils;
import org.apache.http.HttpEntity;
import org.apache.http.ParseException;
import org.apache.http.RequestLine;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.config.RequestConfig;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.util.EntityUtils;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;
import sun.net.www.http.HttpClient;

import java.io.BufferedReader;
import java.io.IOException;
import java.net.URI;
import java.net.URL;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

@SpringBootTest
class LyyApplicationTests {

    @Test
    void contextLoads() throws IOException {
        String str="-1\n" +
                "-1\n" +
                "-1\n" +
                "-1\n" +
                "-1\n" +
                "-1\n" +
                "600003\n" +
                "600005\n" +
                "600007\n" +
                "600008\n" +
                "600010\n" +
                "600014\n" +
                "600015\n" +
                "600018\n" +
                "600019\n" +
                "600024\n" +
                "600025\n" +
                "600027\n" +
                "600029\n" +
                "600030\n" +
                "600031\n" +
                "600035\n" +
                "600036\n" +
                "600041\n" +
                "600042\n" +
                "600044\n" +
                "600046\n" +
                "600047\n" +
                "600048\n" +
                "600050\n" +
                "600051\n" +
                "600052\n" +
                "600053\n" +
                "600054\n" +
                "600055\n" +
                "600059\n" +
                "600061\n" +
                "600063\n" +
                "600064\n" +
                "600065\n" +
                "600068\n" +
                "600069\n" +
                "600070\n" +
                "600072\n" +
                "600074\n" +
                "600075\n" +
                "600077\n" +
                "600079\n" +
                "607484\n" +
                "600089\n" +
                "600094\n" +
                "600095\n" +
                "600096\n" +
                "600097\n" +
                "600098\n" +
                "600099\n" +
                "600101\n" +
                "600102\n" +
                "600103\n" +
                "600104\n" +
                "600105\n" +
                "600106\n" +
                "600109\n" +
                "600110\n" +
                "600112\n" +
                "600113\n" +
                "600114\n" +
                "600115\n" +
                "600116\n" +
                "600117\n" +
                "600118\n" +
                "600119\n" +
                "600122\n" +
                "600124\n" +
                "600126\n" +
                "600127\n" +
                "600128\n" +
                "600129\n" +
                "600131\n" +
                "600133\n" +
                "600134\n" +
                "600135\n" +
                "600136\n" +
                "600137\n" +
                "600140\n" +
                "600143\n" +
                "600144\n" +
                "600145\n" +
                "600146\n" +
                "600150\n" +
                "600151\n" +
                "600152\n" +
                "600154\n" +
                "600155\n" +
                "600156\n" +
                "600157\n" +
                "600158\n" +
                "600160\n" +
                "600162\n" +
                "600163\n" +
                "600164\n" +
                "600167\n" +
                "600168\n" +
                "600170\n" +
                "600175\n" +
                "600176\n" +
                "600179\n" +
                "600186\n" +
                "600188\n" +
                "600189\n" +
                "600190\n" +
                "600191\n" +
                "600193\n" +
                "600194\n" +
                "600196\n" +
                "600198\n" +
                "600199\n" +
                "600200\n" +
                "600202\n" +
                "600203\n" +
                "600204\n" +
                "600207\n" +
                "600208\n" +
                "600209\n" +
                "600210\n" +
                "600211\n" +
                "600212\n" +
                "600213\n" +
                "600214\n" +
                "600215\n" +
                "600216\n" +
                "600217\n" +
                "600218\n" +
                "600219\n" +
                "600220\n" +
                "600221\n" +
                "600222\n" +
                "600224\n" +
                "600225\n" +
                "600226\n" +
                "600227\n" +
                "600228\n" +
                "600229\n" +
                "600230\n" +
                "600231\n" +
                "600232\n" +
                "600233\n" +
                "600234\n" +
                "600238\n" +
                "600240\n" +
                "600242\n" +
                "600243\n" +
                "600247\n" +
                "600248\n" +
                "600251\n" +
                "600252\n" +
                "600253\n" +
                "600254\n" +
                "600256\n" +
                "600257\n" +
                "600258\n" +
                "600259\n" +
                "600260\n" +
                "600262\n" +
                "600263\n" +
                "600265\n" +
                "600267\n" +
                "600270\n" +
                "600272\n" +
                "600277\n" +
                "600280\n" +
                "600282\n" +
                "600284\n" +
                "600285\n" +
                "600288\n" +
                "600291\n" +
                "600292\n" +
                "600296\n" +
                "600297\n" +
                "600298\n" +
                "600301\n" +
                "600303\n" +
                "600304\n" +
                "600305\n" +
                "600307\n" +
                "600310\n" +
                "600311\n" +
                "600313\n" +
                "600315\n" +
                "600316\n" +
                "600317\n" +
                "600319\n" +
                "600320\n" +
                "600326\n" +
                "600328\n" +
                "600330\n" +
                "600331\n" +
                "600332\n" +
                "600333\n" +
                "600334\n" +
                "600335\n" +
                "600336\n" +
                "600337\n" +
                "600338\n" +
                "600339\n" +
                "600340\n" +
                "600341\n" +
                "600342\n" +
                "600348\n" +
                "600350\n" +
                "600351\n" +
                "600353\n" +
                "600354\n" +
                "600355\n" +
                "600356\n" +
                "600359\n" +
                "600361\n" +
                "600362\n" +
                "600363\n" +
                "600364\n" +
                "600365\n" +
                "600366\n" +
                "600368\n" +
                "600369\n" +
                "600370\n" +
                "600372\n" +
                "600373\n" +
                "600374\n" +
                "600376\n" +
                "600380\n" +
                "600383\n" +
                "600384\n" +
                "600385\n" +
                "600386\n" +
                "600388\n" +
                "600389\n" +
                "600391\n" +
                "600392\n" +
                "600393\n" +
                "600394\n" +
                "600396\n" +
                "600397\n" +
                "600398\n" +
                "600400\n" +
                "600401\n" +
                "600402\n" +
                "600403\n" +
                "600405\n" +
                "600406\n" +
                "600407\n" +
                "600409\n" +
                "600410\n" +
                "600411\n" +
                "600414\n" +
                "600418\n" +
                "600419\n" +
                "600421\n" +
                "600422\n" +
                "600424\n" +
                "600425\n" +
                "600426\n" +
                "600430\n" +
                "600434\n" +
                "600435\n" +
                "600439\n" +
                "600440\n" +
                "600444\n" +
                "600450\n" +
                "600452\n" +
                "600453\n" +
                "600458\n" +
                "600459\n" +
                "600464\n" +
                "600465\n" +
                "600466\n" +
                "600467\n" +
                "600471\n" +
                "600474\n" +
                "600476\n" +
                "600479\n" +
                "600481\n" +
                "600482\n" +
                "600483\n" +
                "600485\n" +
                "600488\n" +
                "600493\n" +
                "600496\n" +
                "600497\n" +
                "600501\n" +
                "600503\n" +
                "600504\n" +
                "600505\n" +
                "600508\n" +
                "600510\n" +
                "600511\n" +
                "600512\n" +
                "600514\n" +
                "600515\n" +
                "600516\n" +
                "600517\n" +
                "600518\n" +
                "600521\n" +
                "600524\n" +
                "600525\n" +
                "600527\n" +
                "600530\n" +
                "600533\n" +
                "600536\n" +
                "600537\n" +
                "600539\n" +
                "600540\n" +
                "600541\n" +
                "600543\n" +
                "600544\n" +
                "600545\n" +
                "600552\n" +
                "600553\n" +
                "600555\n" +
                "600558\n" +
                "600559\n" +
                "600560\n" +
                "600566\n" +
                "600567\n" +
                "600568\n" +
                "600569\n" +
                "600570\n" +
                "600571\n" +
                "600572\n" +
                "600573\n" +
                "600576\n" +
                "600577\n" +
                "600580\n" +
                "600581\n" +
                "600582\n" +
                "600583\n" +
                "600586\n" +
                "600588\n" +
                "600591\n" +
                "600592\n" +
                "600593\n" +
                "600594\n" +
                "600598\n" +
                "600600\n" +
                "600601\n" +
                "600603\n" +
                "600604\n" +
                "600605\n" +
                "600606\n" +
                "600608\n" +
                "600613\n" +
                "600614\n" +
                "600615\n" +
                "600618\n" +
                "600619\n" +
                "600620\n" +
                "600621\n" +
                "600623\n" +
                "600625\n" +
                "600629\n" +
                "600631\n" +
                "600632\n" +
                "600633\n" +
                "600634\n" +
                "600635\n" +
                "600636\n" +
                "600638\n" +
                "600643\n" +
                "600644\n" +
                "600645\n" +
                "600648\n" +
                "600649\n" +
                "600651\n" +
                "600652\n" +
                "600656\n" +
                "600657\n" +
                "600662\n" +
                "600663\n" +
                "600664\n" +
                "600665\n" +
                "600666\n" +
                "600668\n" +
                "600669\n" +
                "600670\n" +
                "600673\n" +
                "600674\n" +
                "600675\n" +
                "600682\n" +
                "600683\n" +
                "600687\n" +
                "600688\n" +
                "600690\n" +
                "600692\n" +
                "600694\n" +
                "600695\n" +
                "600699\n" +
                "600701\n" +
                "600702\n" +
                "600704\n" +
                "600705\n" +
                "600709\n" +
                "600710\n" +
                "600711\n" +
                "600712\n" +
                "600714\n" +
                "600715\n" +
                "600717\n" +
                "600719\n" +
                "600720\n" +
                "600721\n" +
                "600722\n" +
                "600723\n" +
                "600724\n" +
                "600725\n" +
                "600727\n" +
                "600728\n" +
                "600729\n" +
                "600731\n" +
                "600732\n" +
                "600733\n" +
                "600734\n" +
                "600735\n" +
                "600737\n" +
                "600740\n" +
                "600741\n" +
                "600742\n" +
                "600743\n" +
                "600746\n" +
                "600748\n" +
                "600749\n" +
                "600750\n" +
                "600753\n" +
                "600754\n" +
                "600758\n" +
                "600760\n" +
                "600761\n" +
                "600765\n" +
                "600766\n" +
                "600767\n" +
                "600768\n" +
                "600772\n" +
                "600776\n" +
                "600777\n" +
                "600779\n" +
                "600780\n" +
                "600783\n" +
                "600784\n" +
                "600785\n" +
                "600790\n" +
                "600791\n" +
                "600792\n" +
                "600794\n" +
                "600795\n" +
                "600797\n" +
                "600802\n" +
                "600803\n" +
                "600804\n" +
                "600806\n" +
                "600809\n" +
                "600811\n" +
                "600812\n" +
                "600813\n" +
                "600814\n" +
                "600815\n" +
                "600817\n" +
                "600822\n" +
                "600823\n" +
                "600824\n" +
                "600825\n" +
                "600826\n" +
                "600827\n" +
                "600828\n" +
                "600830\n" +
                "600831\n" +
                "600832\n" +
                "600833\n" +
                "600834\n" +
                "600835\n" +
                "600836\n" +
                "600837\n" +
                "600838\n" +
                "600841\n" +
                "600843\n" +
                "600845\n" +
                "600846\n" +
                "600851\n" +
                "600852\n" +
                "600853\n" +
                "600854\n" +
                "600855\n" +
                "600856\n" +
                "600858\n" +
                "600859\n" +
                "600860\n" +
                "600861\n" +
                "600864\n" +
                "600867\n" +
                "600870\n" +
                "600872\n" +
                "600873\n" +
                "600874\n" +
                "600875\n" +
                "600877\n" +
                "600878\n" +
                "600879\n" +
                "600882\n" +
                "600885\n" +
                "600886\n" +
                "600887\n" +
                "600891\n" +
                "600892\n" +
                "600893\n" +
                "600897\n" +
                "600898\n" +
                "600899\n" +
                "600900\n" +
                "600901\n" +
                "600903\n" +
                "600904\n" +
                "600905\n" +
                "600906\n" +
                "600907\n" +
                "600908\n" +
                "600911\n" +
                "600912\n" +
                "600914\n" +
                "600915\n" +
                "600916\n" +
                "600918\n" +
                "600919\n" +
                "600920\n" +
                "600921\n" +
                "600922\n" +
                "600923\n" +
                "600924\n" +
                "600925\n" +
                "600926\n" +
                "600927\n" +
                "600929\n" +
                "600930\n" +
                "600931\n" +
                "600932\n" +
                "600933\n" +
                "600934\n" +
                "600937\n" +
                "600938\n" +
                "600941\n" +
                "600943\n" +
                "600945\n" +
                "600946\n" +
                "600950\n" +
                "600951\n" +
                "600952\n" +
                "600954\n" +
                "600955\n" +
                "600957\n" +
                "600959\n" +
                "600961\n" +
                "600962\n" +
                "600963\n" +
                "600965\n" +
                "600968\n" +
                "600971\n" +
                "600973\n" +
                "600974\n" +
                "600975\n" +
                "600976\n" +
                "600977\n" +
                "600980\n" +
                "600982\n" +
                "600985\n" +
                "600987\n" +
                "600988\n" +
                "600991\n" +
                "600993\n" +
                "600996\n" +
                "600999\n" +
                "601000\n" +
                "601004\n" +
                "601006\n" +
                "601007\n" +
                "601009\n" +
                "601010\n" +
                "601011\n" +
                "601012\n" +
                "601017\n" +
                "601018\n" +
                "601020\n" +
                "601022\n" +
                "601023\n" +
                "601024\n" +
                "601025\n" +
                "601027\n" +
                "601028\n" +
                "601029\n" +
                "601030\n" +
                "601032\n" +
                "601037\n" +
                "601039\n" +
                "601045\n" +
                "601046\n" +
                "601047\n" +
                "601048\n" +
                "601049\n" +
                "601052\n" +
                "601053\n" +
                "601054\n" +
                "601055\n" +
                "601062\n" +
                "601063\n" +
                "601066\n" +
                "601067\n" +
                "601068\n" +
                "601070\n" +
                "601074\n" +
                "601078\n" +
                "601079\n" +
                "601081\n" +
                "601082\n" +
                "601083\n" +
                "601087\n" +
                "601088\n" +
                "601090\n" +
                "601092\n" +
                "601093\n" +
                "601096\n" +
                "601097\n" +
                "601100\n" +
                "601103\n" +
                "601105\n" +
                "601106\n" +
                "601108\n" +
                "601109\n" +
                "601111\n" +
                "601115\n" +
                "601116\n" +
                "601117\n" +
                "601119\n" +
                "601120\n" +
                "601123\n" +
                "601129\n" +
                "601130\n" +
                "601133\n" +
                "601134\n" +
                "601136\n" +
                "601138\n" +
                "601140\n" +
                "601144\n" +
                "601145\n" +
                "601150\n" +
                "601151\n" +
                "601152\n" +
                "601157\n" +
                "601158\n" +
                "601159\n" +
                "601162\n" +
                "601163\n" +
                "601170\n" +
                "601171\n" +
                "601172\n" +
                "601177\n" +
                "601182\n" +
                "601184\n" +
                "601193\n" +
                "601196\n" +
                "601199\n" +
                "601200\n" +
                "601201\n" +
                "601202\n" +
                "601204\n" +
                "601205\n" +
                "601206\n" +
                "601210\n" +
                "601211\n" +
                "601215\n" +
                "601216\n" +
                "601219\n" +
                "601227\n" +
                "601233\n" +
                "601236\n" +
                "601238\n" +
                "601239\n" +
                "601243\n" +
                "601244\n" +
                "601245\n" +
                "601248\n" +
                "601255\n" +
                "601259\n" +
                "601266\n" +
                "601274\n" +
                "601275\n" +
                "601281\n" +
                "601282\n" +
                "601283\n" +
                "601286\n" +
                "601289\n" +
                "601292\n" +
                "601296\n" +
                "601302\n" +
                "601311\n" +
                "601314\n" +
                "601315\n" +
                "601317\n" +
                "601318\n" +
                "601320\n" +
                "601321\n" +
                "601322\n" +
                "601324\n" +
                "601326\n" +
                "601327\n" +
                "601330\n" +
                "601335\n" +
                "601338\n" +
                "601342\n" +
                "601344\n" +
                "601345\n" +
                "601348\n" +
                "601352\n" +
                "601355\n" +
                "601356\n" +
                "601366\n" +
                "601368\n" +
                "601369\n" +
                "601371\n" +
                "601372\n" +
                "601375\n" +
                "601377\n" +
                "601379\n" +
                "601382\n" +
                "601383\n" +
                "601390\n" +
                "601393\n" +
                "601395\n" +
                "601398\n" +
                "601400\n" +
                "601404\n" +
                "601406\n" +
                "601408\n" +
                "601411\n" +
                "601412\n" +
                "601414\n" +
                "601423\n" +
                "601424\n" +
                "601425\n" +
                "601428\n" +
                "601430\n" +
                "601434\n" +
                "601436\n" +
                "601439\n" +
                "601442\n" +
                "601443\n" +
                "601444\n" +
                "601447\n" +
                "601455\n" +
                "601456\n" +
                "601461\n" +
                "601464\n" +
                "601465\n" +
                "601466\n" +
                "601469\n" +
                "601473\n" +
                "601477\n" +
                "601500\n" +
                "601505\n" +
                "601506\n" +
                "601507\n" +
                "601508\n" +
                "601522\n" +
                "601523\n" +
                "601531\n" +
                "601535\n" +
                "601540\n" +
                "601544\n" +
                "601546\n" +
                "601547\n" +
                "601552\n" +
                "601555\n" +
                "601557\n" +
                "601565\n" +
                "601574\n" +
                "601592\n" +
                "601603\n" +
                "601605\n" +
                "601606\n" +
                "601607\n" +
                "601611\n" +
                "601627\n" +
                "601629\n" +
                "601630\n" +
                "601633\n" +
                "601636\n" +
                "601642\n" +
                "601644\n" +
                "601647\n" +
                "601648\n" +
                "601651\n" +
                "601654\n" +
                "601658\n" +
                "601662\n" +
                "601664\n" +
                "601665\n" +
                "601672\n" +
                "601677\n" +
                "601680\n" +
                "601682\n" +
                "601689\n" +
                "601690\n" +
                "601691\n" +
                "601692\n" +
                "601697\n" +
                "601707\n" +
                "601710\n" +
                "601714\n" +
                "601716\n" +
                "601719\n" +
                "601720\n" +
                "601723\n" +
                "601727\n" +
                "601745\n" +
                "601754\n" +
                "601760\n" +
                "601762\n" +
                "601764\n" +
                "601773\n" +
                "601774\n" +
                "601781\n" +
                "601785\n" +
                "601789\n" +
                "601794\n" +
                "601796\n" +
                "601823\n" +
                "601838\n" +
                "601846\n" +
                "601857\n" +
                "601864\n" +
                "601872\n" +
                "601880\n" +
                "601892\n" +
                "601916\n" +
                "601931\n" +
                "601974\n" +
                "601981\n" +
                "602069\n" +
                "602086\n" +
                "602137\n" +
                "602172\n" +
                "602174\n" +
                "602203\n" +
                "88\n" +
                "99\n" +
                "602469";
        String[] strs=str.split("\\n");
        for (String s: strs){
            CloseableHttpClient httpClient = HttpClientBuilder.create().build();

            System.out.println(s);
            HttpGet httpGet = new HttpGet("http://127.0.0.1:8081/generator/medicalmain/queryByBarCode?barCode=" + s);
            // 响应模型
            CloseableHttpResponse response = null;
            try {
                // 配置信息
                RequestConfig requestConfig = RequestConfig.custom()
                        // 设置连接超时时间(单位毫秒)
                        .setConnectTimeout(5000)
                        // 设置请求超时时间(单位毫秒)
                        .setConnectionRequestTimeout(5000)
                        // socket读写超时时间(单位毫秒)
                        .setSocketTimeout(5000)
                        // 设置是否允许重定向(默认为true)
                        .setRedirectsEnabled(true).build();

                // 将上面的配置信息 运用到这个Get请求里
                httpGet.setConfig(requestConfig);

                // 由客户端执行(发送)Get请求
                response = httpClient.execute(httpGet);

                // 从响应模型中获取响应实体
                HttpEntity responseEntity = response.getEntity();
                System.out.println("响应状态为:" + response.getStatusLine());
                if (responseEntity != null) {
                    System.out.println("响应内容长度为:" + responseEntity.getContentLength());
                    System.out.println("响应内容为:" + EntityUtils.toString(responseEntity));
                }
            } catch (ClientProtocolException e) {
                e.printStackTrace();
            } catch (ParseException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            } finally {
                try {
                    // 释放资源
                    if (httpClient != null) {
                        httpClient.close();
                    }
                    if (response != null) {
                        response.close();
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }




        }
//        List<String> list = Files.readAllLines(Paths.get("barcode.txt"));
//        for(String barcode : list){
//            System.out.println(barcode);
//        }
    }

}
